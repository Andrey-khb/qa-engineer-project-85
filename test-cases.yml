---
- summary: |
    Проверка успешной авторизации
  requirement: |
    При верном вводе логина и пароля пользователь должен войти в систему
  prerequisites: |
    открыта страница логина
  test-data: |
    Логин = khaba@yan.ru Пароль = 1234567890
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь успешно авторизован

#==============================================================================================================

- summary: |
    Проверка авторизации не зарегистрированного пользователя
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница логина
  test-data: |
    Логин = khaba@yan.ru Пароль = 1234567
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь не авторизован и видит ошибку

#==============================================================================================================

- summary: |
    Проверка создания игры с ботом
  requirement: |
    Возможность создать новую игру
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - Жмем кнопку "Create battle"
  expected-result: |
    Игра с ботом успешно создана

#==============================================================================================================

- summary: |
    Проверка изменения языка программирования в активной игре
  requirement: |
    Возможность выбрать язык программирования
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - Жмем кнопку "Create battle"
    - в тулбаре над окном программирования выбираем любой язык программирования, например C# 8.0.201
  expected-result: |
    Меняется синтаксис языка на выбранный в окне выполнения задачи  

#==============================================================================================================

- summary: |
    Проверка создания игры с 3 звездами
  requirement: |
    Фильтр по сложности игры
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - В окне "Create a game" выбрать уровень сложности - 3 звезды
  expected-result: |
    Игра с выбранным уровнем сложности создана   

#==============================================================================================================

- summary: |
    Проверка установки таймера игры
  requirement: |
    Установить время на продолжительность игры
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - В окне "Create a game" в разделе "Level" выбираем любой уровень сложности, например 3*
    - В окне "Create a game" в разделе "Time control" бегунком выставляем любое время, например 35 мин
    - Жмем кнопку "Create battle"
  expected-result: |
    На странице игры в окне "Task" работает таймер на установленное время   

#==============================================================================================================

- summary: |
    Проверка создания игры с другом
  requirement: |
    Возможность выбрать соперника
  prerequisites:
    - Соперник добавлен в список друзей
    - login: khaba@yan1.ru, password: 1234567890
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a friends"
    - В окне "Create a game" в разделе "Choose opponent" выбираем из списка любого соперника, например user123
    - Жмем кнопку "Create invite"
    - Принять приглашение вторым пользователем
  expected-result: |
    На верхней панели главной страницы в объекте img появляется значок-цифра - количество созданных приглашений на игру

#==============================================================================================================

- summary: |
    Проверка обновления экрана соперника в активной игре
  requirement: |
    Виден экран соперника
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - Жмем кнопку "Create battle"
  expected-result: |
    Экран с кодом соперника обновляется в реальном времени

#==============================================================================================================

- summary: |
    Проверка отправки сообщения в активной игре
  requirement: |
    Чат с соперником
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a other user"
    - Жмем кнопку "Create battle"
    - В текстовом поле 
  expected-result: |
    В 1 координатной четверти экрана видим окно чата, есть возможность написать сообщение сопернику

#==============================================================================================================

- summary: |
    Проверка возможности отказаться от игры
  requirement: |
    Можно отказаться от продолжения игры (сдаться)
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - Жмем кнопку "Create battle
    - На панели, в 3 координатной четверти экрана жмем кнопку "Give Up" 
    - На всплывающем окне подтверждаем, жмем кнопку "Give Up"
  expected-result: |
    Появляется сообщение о завершение игры, игра окончена


#==============================================================================================================

- summary: |
    Проверка сброса написанного кода
  requirement: |
    Сбросить свое решение в процессе игры (начать сначала)
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - Жмем кнопку "Create battle
    - В окне решения задачи пишем любой текст, например "return width * length;"
    - На панели этого окна, жмем кнопку "Reset solution"
  expected-result: |
    Все изменения отменены, задача в исходном состоянии

#==============================================================================================================

- summary: |
    Проверка победы в активной игре
  requirement: |
    Проверить свое решение досрочно (до истечения таймера игры)
  prerequisites:
    В окне решения задачи пишем правильное решение
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - В окне "Create a game" в разделе "Choose task by name or tags" выбираем "rect_area"
    - Жмем кнопку "Create battle
    - На панели этого окна, жмем кнопку "Run"
  expected-result: |
    Игра закончена, видим сообщение о победе

#==============================================================================================================

- summary: |
    Проверка возможности начать новую игру если не завершена текущая
  requirement: |
    Нельзя начать новую игру, если уже играешь
  prerequisites:
    no-data
  test-data: |
    no-data
  steps:
    - Жмем кнопку "Create a game"
    - В окне "Create a game" в разделе "Game Type" выбираем "With a bot"
    - Жмем кнопку "Create battle
    - В 1 координатной четверти экрана жмем кнопку "Back to Home"
  expected-result: |
    Нет кнопки "Create a game"
